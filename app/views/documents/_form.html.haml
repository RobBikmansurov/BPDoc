= simple_form_for(@document, :html => { :multipart => true }) do |f|
  = f.error_notification
  = f.input :name
  = f.input :dlevel, :collection => 1..4, :as => :radio_buttons, :hint => 'Политики, Стратегии(1) - Положения, Описания(2) - Регламенты, Инструкции(3) - Свидетельства: Акты, Протоколы, Журналы(4)'
  -#= f.input :dlevel, :collection => %w[1Политики 2Положения 3Регламенты 4Свидетельства], :as => :radio_buttons, :hint => 'Уровень документа: Политики - Положения - Регламенты - Свидетельства'
  = f.input :description, :as => :text
  
  -#= f.input :owner_name, data: {autocomplete_source: autocomplete_users_path}, :as => :autocomplete, :label => 'Ответственный за документ'
  = f.label 'Ответственный за документ'
  = f.autocomplete_field :owner_name, autocomplete_users_path

  
  -#= f.association :status_id, Category.all
  = f.input :status, :collection => %w[Утвержден Проект Согласование НеДействует], :prompt => 'Статус документа', :input_html => { :value => 'Утвержден'}
  = f.input :approveorgan, :collection => %w[ПредседательПравления Правление СоветДиректоров ОбщееСобрание], :prompt => 'Уполномоченный орган'
  -if @document.approved
    = f.input :approved, :as => :string, :input_html =>{:class=>'datepicker', :value => @document.approved.strftime("%d.%m.%Y")}
  -else
    = f.input :approved, :as => :string, :input_html =>{:class=>'datepicker'}
  = f.input :note

  -if can? :edit_document_place, Document
    = f.input :place, :hint => 'Место хранения оригиналов на бумаге (кратко: отдел папка)'
  -else
    - @document.place = '!?' if @document.place.blank?
    =  f.hidden_field :place
    Место хранения оригиналов на бумаге:
    %b= link_to @document.place, documents_path + '?place=' + @document.place, class: 'groups', title: place_title(@document.place)

  -if @document.document_file_file_name
    = f.input :document_file, hint: 'заменить файл ' + @document.document_file_file_name + '  (' + @document.document_file_file_size.to_s + ' от ' + @document.document_file_updated_at.strftime("%d.%m.%Y %H:%M:%S)") 
    -#= f.input :delete_file, as: :boolean, label: 'Удалить файл', hint: 'удалить файл ' + @document.document_file_file_name, :boolean_style => :inline
    = f.input :file_delete, as: :boolean, label: 'Удалить файл', hint: 'удалить файл ' + @document.document_file_file_name, :boolean_style => :inline

  -else
    = f.input :document_file, hint: 'Выберите файл с документом для загрузки'
    %p
  -if can? :manage_tag, @document
    = f.input :tag_list, :label => 'Теги (через запятую)'
  = f.error :base
  
  -if can? :update, @document
    %p
    = f.button :submit

-#= @document_directives.inspect
-#= @document.directive
